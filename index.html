<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DEBUG –ú–µ–Ω—é</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background: #222; color: #fff; padding: 20px; text-align: center; }
        .btn { 
            display: block; width: 100%; padding: 20px; margin: 10px 0; 
            background: #444; border-radius: 10px; cursor: pointer; border: 1px solid #666;
        }
    </style>
</head>
<body>

    <h2>üõ† –†–ï–ñ–ò–ú –û–¢–õ–ê–î–ö–ò</h2>
    <p>–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞.</p>

    <div class="btn" onclick="debugSend('rune_week')">
        üîÆ –¢–ï–°–¢: –†—É–Ω–∞ –ù–µ–¥–µ–ª–∏
    </div>

    <div class="btn" onclick="location.reload()">
        üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
    </div>

    <script>
        // –°–æ–æ–±—â–∞–µ–º, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É
        // alert("–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω. –í–µ—Ä—Å–∏—è API: " + (window.Telegram.WebApp.version || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'));

        let tg = window.Telegram.WebApp;
        tg.expand();

        function debugSend(data) {
            alert("1. –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞. –î–∞–Ω–Ω—ã–µ: " + data);

            // –ü—Ä–æ–±—É–µ–º –≤–∏–±—Ä–∏—Ä–æ–≤–∞—Ç—å
            try {
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.impactOccurred('light');
                    alert("2. –í–∏–±—Ä–∞—Ü–∏—è —Å—Ä–∞–±–æ—Ç–∞–ª–∞");
                } else {
                    alert("2. –í–∏–±—Ä–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (—ç—Ç–æ –Ω–æ—Ä–º)");
                }
            } catch (e) {
                alert("2. –û—à–∏–±–∫–∞ –≤–∏–±—Ä–∞—Ü–∏–∏: " + e);
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º initData (—Å–≤—è–∑—å —Å –±–æ—Ç–æ–º)
            if (!tg.initData) {
                alert("‚ö†Ô∏è –û–®–ò–ë–ö–ê: initData –ø—É—Å—Ç–∞—è! –°–∞–π—Ç –æ—Ç–∫—Ä—ã—Ç –Ω–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –∏–ª–∏ —Å–≤—è–∑—å –ø–æ—Ç–µ—Ä—è–Ω–∞.");
            } else {
                alert("3. –°–≤—è–∑—å —Å –±–æ—Ç–æ–º –µ—Å—Ç—å.");
            }

            // –ü—Ä–æ–±—É–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
            try {
                alert("4. –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ sendData...");
                tg.sendData(data);
                alert("5. –ö–æ–º–∞–Ω–¥–∞ sendData –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –û–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å—Å—è.");
            } catch (e) {
                alert("‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê sendData: " + e);
            }
        }
    </script>
</body>
</html>